export class SajuInterpreter {
  // ì‹¤ì œ ì‚¬ì£¼ëª…ë¦¬í•™ ê¸°ë°˜ ì¼ê°„ë³„ ì„±ê²© íŠ¹ì„±
  static PERSONALITY_BY_DAY_STEM = {
    ê°‘: {
      basic:
        'ê°‘ëª©(ç”²æœ¨)ì€ í° ë‚˜ë¬´ë¥¼ ìƒì§•í•©ë‹ˆë‹¤. ì •ì§í•˜ê³  ê³§ìœ¼ë©°, ì¸ì˜ì˜ˆì§€ì‹ ì„ ì¤‘ì‹œí•©ë‹ˆë‹¤. ëŒ€ì˜ëª…ë¶„ì„ ì¤‘ìš”ì‹œí•˜ê³  ë¦¬ë”ì‹­ì´ ê°•í•©ë‹ˆë‹¤. ì–‘ëª©(é™½æœ¨)ìœ¼ë¡œì„œ ì ê·¹ì ì´ê³  ì§„ì·¨ì ì¸ ê¸°ìƒì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.',
      strength: 'ì •ì§ì„±, ë¦¬ë”ì‹­, ëŒ€ì˜ëª…ë¶„, í¬ë¶€, ì¸ë•',
      weakness: 'ìœµí†µì„± ë¶€ì¡±, ê³ ì§‘, ì²´ë©´ ì¤‘ì‹œ, ê¶Œìœ„ì ',
      element: 'ëª©(æœ¨)',
      yinyang: 'ì–‘(é™½)',
    },
    ì„: {
      basic:
        'ì„ëª©(ä¹™æœ¨)ì€ ê½ƒê³¼ í’€ì„ ìƒì§•í•©ë‹ˆë‹¤. ë¶€ë“œëŸ½ê³  ìœ ì—°í•˜ë©°, ì˜¨í™”í•œ ì„±í’ˆì„ ì§€ë…”ìŠµë‹ˆë‹¤. ìŒëª©(é™°æœ¨)ìœ¼ë¡œì„œ ì ì‘ë ¥ì´ ë›°ì–´ë‚˜ê³  ì„¬ì„¸í•œ ê°ì„±ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì˜ˆìˆ ì  ê°ê°ì´ ë›°ì–´ë‚©ë‹ˆë‹¤.',
      strength: 'ìœ ì—°ì„±, ì ì‘ë ¥, ì˜¨í™”í•¨, ì˜ˆìˆ ì„±, ì„¬ì„¸í•¨',
      weakness: 'ìš°ìœ ë¶€ë‹¨, ì˜ì¡´ì„±, ë‚˜ì•½í•¨, ë³€ë•',
      element: 'ëª©(æœ¨)',
      yinyang: 'ìŒ(é™°)',
    },
    ë³‘: {
      basic:
        'ë³‘í™”(ä¸™ç«)ëŠ” íƒœì–‘ì„ ìƒì§•í•©ë‹ˆë‹¤. ë°ê³  í™œë°œí•˜ë©° ì—´ì •ì ì…ë‹ˆë‹¤. ì–‘í™”(é™½ç«)ë¡œì„œ ëª¨ë“  ê²ƒì„ ë°íˆê³  ë“œëŸ¬ë‚´ëŠ” ì„±í–¥ì´ ìˆìœ¼ë©°, ë² í‘¸ëŠ” ê²ƒì„ ì¢‹ì•„í•©ë‹ˆë‹¤. ë‚™ì²œì ì´ê³  ëŒ€ë²”í•©ë‹ˆë‹¤.',
      strength: 'ì—´ì •, ê´€ëŒ€í•¨, ë‚™ì²œì„±, í™œë ¥, ëª…ë‘í•¨',
      weakness: 'ì„±ê¸‰í•¨, ê³¼ì‹œìš•, ë‚­ë¹„ë²½, ì¸ë‚´ì‹¬ ë¶€ì¡±',
      element: 'í™”(ç«)',
      yinyang: 'ì–‘(é™½)',
    },
    ì •: {
      basic:
        'ì •í™”(ä¸ç«)ëŠ” ì´›ë¶ˆì´ë‚˜ ë“±ë¶ˆì„ ìƒì§•í•©ë‹ˆë‹¤. ìŒí™”(é™°ç«)ë¡œì„œ ë”°ëœ»í•˜ê³  ì˜¨í™”í•˜ë©°, ì„¸ì‹¬í•œ ë°°ë ¤ë¥¼ í•©ë‹ˆë‹¤. ì˜ˆë¯¼í•˜ê³  ê°ìˆ˜ì„±ì´ í’ë¶€í•˜ë©°, ë¬¸í•™ì  ì¬ëŠ¥ì´ ìˆìŠµë‹ˆë‹¤.',
      strength: 'ì˜¨í™”í•¨, ì„¸ì‹¬í•¨, ì˜ˆìˆ ì„±, ì§ê´€ë ¥, ë°°ë ¤ì‹¬',
      weakness: 'ì˜ˆë¯¼í•¨, ì˜ì‹¬, ë³€ë•, ì†Œì‹¬í•¨',
      element: 'í™”(ç«)',
      yinyang: 'ìŒ(é™°)',
    },
    ë¬´: {
      basic:
        'ë¬´í† (æˆŠåœŸ)ëŠ” ì‚°ì´ë‚˜ í° ë•…ì„ ìƒì§•í•©ë‹ˆë‹¤. ì–‘í† (é™½åœŸ)ë¡œì„œ ì¤‘í›„í•˜ê³  ë¯¿ìŒì§ìŠ¤ëŸ¬ìš°ë©°, í¬ìš©ë ¥ì´ ìˆìŠµë‹ˆë‹¤. ì¤‘ìš©ì„ ì¤‘ì‹œí•˜ê³  ì‹ ìš©ì„ ìƒëª…ì²˜ëŸ¼ ì—¬ê¹ë‹ˆë‹¤.',
      strength: 'ì‹ ë¢°ì„±, í¬ìš©ë ¥, ì¤‘í›„í•¨, ì¸ë‚´ì‹¬, ì±…ì„ê°',
      weakness: 'ì™„ê³ í•¨, ë‘”ì¤‘í•¨, ë³´ìˆ˜ì„±, ë³€í™” ê±°ë¶€',
      element: 'í† (åœŸ)',
      yinyang: 'ì–‘(é™½)',
    },
    ê¸°: {
      basic:
        'ê¸°í† (å·±åœŸ)ëŠ” ë°­ì´ë‚˜ ì •ì›ì˜ í™ì„ ìƒì§•í•©ë‹ˆë‹¤. ìŒí† (é™°åœŸ)ë¡œì„œ ë¶€ë“œëŸ½ê³  ì„¬ì„¸í•˜ë©°, ì‹¤ìš©ì ì…ë‹ˆë‹¤. ê³„íšì ì´ê³  ê¼¼ê¼¼í•˜ë©°, ì ˆì•½ì •ì‹ ì´ ê°•í•©ë‹ˆë‹¤.',
      strength: 'ì‹¤ìš©ì„±, ê³„íšì„±, ì„¬ì„¸í•¨, ì ˆì•½ì •ì‹ , ì„±ì‹¤í•¨',
      weakness: 'ì†Œì‹¬í•¨, ì¸ìƒ‰í•¨, ê±±ì • ë§ìŒ, ì˜ì‹¬',
      element: 'í† (åœŸ)',
      yinyang: 'ìŒ(é™°)',
    },
    ê²½: {
      basic:
        'ê²½ê¸ˆ(åºšé‡‘)ì€ ì‡ ë‚˜ ì¹¼ì„ ìƒì§•í•©ë‹ˆë‹¤. ì–‘ê¸ˆ(é™½é‡‘)ìœ¼ë¡œì„œ ê°•ì§í•˜ê³  ê³¼ë‹¨ì„±ì´ ìˆìœ¼ë©°, ì˜ë¦¬ë¥¼ ì¤‘ì‹œí•©ë‹ˆë‹¤. ê²°ë‹¨ë ¥ì´ ë›°ì–´ë‚˜ê³  ì¶”ì§„ë ¥ì´ ê°•í•©ë‹ˆë‹¤.',
      strength: 'ê²°ë‹¨ë ¥, ì˜ë¦¬, ìš©ë§¹í•¨, ì¶”ì§„ë ¥, ì •ì˜ê°',
      weakness: 'ê°•ì§í•¨, ê³ ì§‘, ëƒ‰ì •í•¨, ìœµí†µì„± ë¶€ì¡±',
      element: 'ê¸ˆ(é‡‘)',
      yinyang: 'ì–‘(é™½)',
    },
    ì‹ : {
      basic:
        'ì‹ ê¸ˆ(è¾›é‡‘)ì€ ë³´ì„ì´ë‚˜ ì¥ì‹ êµ¬ë¥¼ ìƒì§•í•©ë‹ˆë‹¤. ìŒê¸ˆ(é™°é‡‘)ìœ¼ë¡œì„œ ì˜ˆë¦¬í•˜ê³  ì„¬ì„¸í•˜ë©°, ê¹”ë”í•©ë‹ˆë‹¤. ëª…ì˜ˆìš•ì´ ê°•í•˜ê³  ì²´ë©´ì„ ì¤‘ì‹œí•©ë‹ˆë‹¤.',
      strength: 'ì˜ˆë¦¬í•¨, ê¹”ë”í•¨, ëª…ì˜ˆìš•, ì„¬ì„¸í•¨, ë¶„ë³„ë ¥',
      weakness: 'ì˜ˆë¯¼í•¨, ê¹Œë‹¤ë¡œì›€, ë¹„íŒì , í—ˆì˜ì‹¬',
      element: 'ê¸ˆ(é‡‘)',
      yinyang: 'ìŒ(é™°)',
    },
    ì„: {
      basic:
        'ì„ìˆ˜(å£¬æ°´)ëŠ” ë°”ë‹¤ë‚˜ í° ê°•ì„ ìƒì§•í•©ë‹ˆë‹¤. ì–‘ìˆ˜(é™½æ°´)ë¡œì„œ ì§€í˜œë¡­ê³  í¬ìš©ë ¥ì´ ìˆìœ¼ë©°, ë³€í™”ë¥¼ ì¶”êµ¬í•©ë‹ˆë‹¤. ììœ ë¶„ë°©í•˜ê³  í™œë™ì ì…ë‹ˆë‹¤.',
      strength: 'ì§€í˜œ, í¬ìš©ë ¥, ì ì‘ë ¥, í™œë™ì„±, ììœ ë¡œì›€',
      weakness: 'ë°©ë‘ë²½, ë³€ë•, ì•ˆì •ê° ë¶€ì¡±, ë°©ì¢…',
      element: 'ìˆ˜(æ°´)',
      yinyang: 'ì–‘(é™½)',
    },
    ê³„: {
      basic:
        'ê³„ìˆ˜(ç™¸æ°´)ëŠ” ì´ìŠ¬ì´ë‚˜ ë¹—ë¬¼ì„ ìƒì§•í•©ë‹ˆë‹¤. ìŒìˆ˜(é™°æ°´)ë¡œì„œ ì„¬ì„¸í•˜ê³  ë¶€ë“œëŸ¬ìš°ë©°, ìˆœìˆ˜í•©ë‹ˆë‹¤. ìƒìƒë ¥ì´ í’ë¶€í•˜ê³  ê°ìˆ˜ì„±ì´ ì˜ˆë¯¼í•©ë‹ˆë‹¤.',
      strength: 'ìƒìƒë ¥, ìˆœìˆ˜í•¨, ê°ìˆ˜ì„±, ë¶€ë“œëŸ¬ì›€, ì§ê´€ë ¥',
      weakness: 'ë‚˜ì•½í•¨, ì˜ì¡´ì„±, ë¹„í˜„ì‹¤ì , ê°ì •ì ',
      element: 'ìˆ˜(æ°´)',
      yinyang: 'ìŒ(é™°)',
    },
  };

  //  ì‹¤ì œ ì‚¬ì£¼ëª…ë¦¬í•™ ê¸°ë°˜ ì˜¤í–‰ ê· í˜•ì— ë”°ë¥¸ í•´ì„
  static interpretFiveElements(elements: { [key: string]: number }): string {
    const total = Object.values(elements).reduce(
      (sum, count) => sum + count,
      0,
    );
    const balance = Object.entries(elements).map(([element, count]) => ({
      element,
      percentage: (count / total) * 100,
      count,
    }));

    let interpretation = 'ì˜¤í–‰ ë¶„ì„:\n';

    // ê³¼ë‹¤í•œ ì˜¤í–‰ë“¤ (40% ì´ìƒ)
    const dominantElements = balance.filter((item) => item.percentage > 40);

    // ë¶€ì¡±í•œ ì˜¤í–‰ë“¤ (0ê°œ ë˜ëŠ” 10% ë¯¸ë§Œ)
    const lackingElements = balance.filter((item) => item.percentage < 10);

    // ê³¼ë‹¤í•œ ì˜¤í–‰ë“¤ ì²˜ë¦¬
    if (dominantElements.length > 0) {
      dominantElements.forEach((dominant) => {
        const elementKorean =
          dominant.element === 'ëª©'
            ? 'æœ¨'
            : dominant.element === 'í™”'
              ? 'ç«'
              : dominant.element === 'í† '
                ? 'åœŸ'
                : dominant.element === 'ê¸ˆ'
                  ? 'é‡‘'
                  : 'æ°´';

        const emoji =
          dominant.element === 'ëª©'
            ? 'ğŸŒ³'
            : dominant.element === 'í™”'
              ? 'ğŸ”¥'
              : dominant.element === 'í† '
                ? 'â›°ï¸'
                : dominant.element === 'ê¸ˆ'
                  ? 'âš”ï¸'
                  : 'ğŸ’§';

        interpretation += `${emoji} ${dominant.element}(${elementKorean}) ê¸°ìš´ì´ ê°•í•œ ì²´ì§ˆ\n\n`;

        switch (dominant.element) {
          case 'ëª©':
            interpretation +=
              'ì„±ê²©: ë”°ëœ»í•˜ê³  ì„±ì¥ ì§€í–¥ì ì´ë©°, ë°œì „ê³¼ ë°°ì›€ì„ ì¶”êµ¬í•¨.\n' +
              'ëŠ¥ë ¥ ë¶„ì•¼: êµìœ¡, ë¬¸í™”ì˜ˆìˆ , ì°½ì‘ í™œë™ ë“±ì— ì í•©.\n' +
              'ê±´ê°•: ê°„ë‹´, ì‹ ê²½ê³„ ì£¼ì˜. ìŠ¤íŠ¸ë ˆìŠ¤ ì¡°ì ˆê³¼ ìˆ™ë©´ í•„ìš”.\n' +
              'ì£¼ì˜: ëª©ì´ ì§€ë‚˜ì¹˜ë©´ ì§ˆíˆ¬Â·ìš°ìœ ë¶€ë‹¨Â·ì‹ ê²½ì§ˆì  ì„±í–¥ì´ ìƒê¸¸ ìˆ˜ ìˆìŒ. í™”(ç«)ë¡œ ê· í˜• ë³´ì™„.\n';
            break;
          case 'í™”':
            interpretation +=
              'ì„±ê²©: ë°ê³  í™œë°œí•˜ë©° ì—´ì •ì ì„. í‘œí˜„ë ¥ì´ ë›°ì–´ë‚˜ê³  ì‚¬êµì .\n' +
              'ëŠ¥ë ¥ ë¶„ì•¼: ë°©ì†¡, ì—°ì˜ˆ, ê´‘ê³ , ë¯¸ìš© ë“±ì— ì í•©.\n' +
              'ê±´ê°•: ì‹¬ì¥, í˜ˆê´€, ì†Œì¥ ì£¼ì˜. ì¶©ë¶„í•œ íœ´ì‹ê³¼ ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ í•„ìš”.\n' +
              'ì£¼ì˜: í™”ê°€ ì§€ë‚˜ì¹˜ë©´ ì„±ê¸‰í•¨, ë³€ë•ì´ ìƒê¸¸ ìˆ˜ ìˆìŒ. í† (åœŸ)ë¡œ ê· í˜• ë³´ì™„.\n';
            break;
          case 'í† ':
            interpretation +=
              'ì„±ê²©: ì„±ì‹¤í•˜ê³  í¬ìš©ë ¥ì´ ìˆìŒ. ì¤‘ì¬ì™€ ì¡°ì • ëŠ¥ë ¥ì´ ë›°ì–´ë‚¨.\n' +
              'ëŠ¥ë ¥ ë¶„ì•¼: ë¶€ë™ì‚°, ê±´ì„¤, ê¸ˆìœµ, ì¤‘ê°œì—… ë“±ì— ì í•©.\n' +
              'ê±´ê°•: ì†Œí™”ê¸°ê³„í†µ(ìœ„, ë¹„ì¥, ì·Œì¥) ì£¼ì˜. ê·œì¹™ì  ì‹ì‚¬ì™€ ìš´ë™ í•„ìš”.\n' +
              'ì£¼ì˜: í† ê°€ ì§€ë‚˜ì¹˜ë©´ ê³ ì§‘ê³¼ ë³€í™” ê±°ë¶€ê°ì´ ìƒê¹€. ê¸ˆ(é‡‘)ìœ¼ë¡œ ê· í˜• ë³´ì™„.\n';
            break;
          case 'ê¸ˆ':
            interpretation +=
              'ì„±ê²©: ì˜ë¦¬ì™€ ëª…ì˜ˆë¥¼ ì¤‘ì‹œí•˜ë©° ê²°ë‹¨ë ¥ì´ ìˆìŒ. ì²´ê³„ì ì´ê³  ë…¼ë¦¬ì .\n' +
              'ëŠ¥ë ¥ ë¶„ì•¼: ê¸ˆìœµ, ë²•ë¥ , ì˜ë£Œ, ê¸°ê³„ê³µí•™ ë“±ì— ì í•©.\n' +
              'ê±´ê°•: í, ê¸°ê´€ì§€, ëŒ€ì¥, í”¼ë¶€ ì£¼ì˜. ê³µê¸° ì¢‹ì€ í™˜ê²½ì—ì„œ ìš´ë™ í•„ìš”.\n' +
              'ì£¼ì˜: ê¸ˆì´ ì§€ë‚˜ì¹˜ë©´ ì—„ê²©í•˜ê³  ëƒ‰ì •í•´ì§. ìˆ˜(Water)ë¡œ ê· í˜• ë³´ì™„.\n';
            break;
          case 'ìˆ˜':
            interpretation +=
              'ì„±ê²©: ì§€í˜œë¡­ê³  ìœ ì—°í•˜ë©° ì ì‘ë ¥ì´ ë›°ì–´ë‚¨. ì§ê´€ë ¥ê³¼ ì² í•™ì  ì‚¬ê³  ë°œë‹¬.\n' +
              'ëŠ¥ë ¥ ë¶„ì•¼: í•™ìˆ , ì—°êµ¬, ì˜ë£Œ, ë¬´ì—­ì—… ë“±ì— ì í•©.\n' +
              'ê±´ê°•: ì‹ ì¥, ë°©ê´‘, ìƒì‹ê¸° ì£¼ì˜. ì¶©ë¶„í•œ ìˆ˜ë¶„ ì„­ì·¨ì™€ í•˜ì²´ ìš´ë™ í•„ìš”.\n' +
              'ì£¼ì˜: ìˆ˜ê°€ ì§€ë‚˜ì¹˜ë©´ ìŒìš¸í•˜ê³  ì˜ì‹¬ ë§ì•„ì§. ëª©(æœ¨)ìœ¼ë¡œ ê· í˜• ë³´ì™„.\n';
            break;
        }
      });
    }

    // ë¶€ì¡±í•œ ì˜¤í–‰ë“¤ ì²˜ë¦¬
    if (lackingElements.length > 0) {
      lackingElements.forEach((lacking) => {
        const elementKorean =
          lacking.element === 'ëª©'
            ? 'æœ¨'
            : lacking.element === 'í™”'
              ? 'ç«'
              : lacking.element === 'í† '
                ? 'åœŸ'
                : lacking.element === 'ê¸ˆ'
                  ? 'é‡‘'
                  : 'æ°´';

        const emoji =
          lacking.element === 'ëª©'
            ? 'ğŸŒ³'
            : lacking.element === 'í™”'
              ? 'ğŸ”¥'
              : lacking.element === 'í† '
                ? 'â›°ï¸'
                : lacking.element === 'ê¸ˆ'
                  ? 'âš”ï¸'
                  : 'ğŸ’§';

        interpretation += `\n${emoji} ${lacking.element}(${elementKorean}) ê¸°ìš´ì´ ì•½í•œ ì²´ì§ˆ\n\n`;

        switch (lacking.element) {
          case 'ëª©':
            interpretation +=
              'ë¶€ì¡±í•œ ë©´: ì„±ì¥ë ¥Â·ì°½ì˜ë ¥Â·ìœ ì—°ì„± ë¶€ì¡±.\n' +
              'ë³´ì™„ë²•: ë…ì„œÂ·í•™ìŠµ, ìì—°ê³¼ ê°€ê¹Œì´í•˜ê¸°, ìƒˆë¡œìš´ ì·¨ë¯¸ ì‹œë„.\n' +
              'ê°œìš´ë²•: ë…¹ìƒ‰ ê³„ì—´, ë™ìª½ ë°°ì¹˜, ë‚˜ë¬´ ì†Œì¬ í™œìš©.\n' +
              'ìŒì‹: ì‹ ë§› ìŒì‹, ë…¹ìƒ‰ ì±„ì†Œ, ê²¬ê³¼ë¥˜.\n';
            break;
          case 'í™”':
            interpretation +=
              'ë¶€ì¡±í•œ ë©´: í™œë ¥Â·ì—´ì •Â·ì ê·¹ì„±Â·ë¦¬ë”ì‹­ ë¶€ì¡±.\n' +
              'ë³´ì™„ë²•: ìš´ë™Â·ì·¨ë¯¸í™œë™, ì‚¬êµ ëª¨ì„ ì ê·¹ ì°¸ì—¬.\n' +
              'ê°œìš´ë²•: ë¶‰ì€ìƒ‰ ê³„ì—´, ë‚¨ìª½ ë°°ì¹˜, ë”°ëœ»í•œ ì¡°ëª….\n' +
              'ìŒì‹: ì“´ë§› ìŒì‹, ë¶‰ì€ ìƒ‰ ìŒì‹, ë”°ëœ»í•œ ì„±ì§ˆ ìŒì‹.\n';
            break;
          case 'í† ':
            interpretation +=
              'ë¶€ì¡±í•œ ë©´: ì•ˆì •ê°Â·ëˆê¸°Â·ì¸ë‚´ë ¥Â·ì‹ ìš© ë¶€ì¡±.\n' +
              'ë³´ì™„ë²•: ê·œì¹™ì ì¸ ìƒí™œ, ê¾¸ì¤€í•œ ìš´ë™, ì‹ ë¢° ê´€ê³„ í˜•ì„±.\n' +
              'ê°œìš´ë²•: í™©ìƒ‰Â·ê°ˆìƒ‰ ê³„ì—´, ì¤‘ì•™ ë°°ì¹˜, ë„ìê¸°Â·í™ ì†Œì¬.\n' +
              'ìŒì‹: ë‹¨ë§› ìŒì‹, ê³¡ë¬¼ë¥˜, ë¿Œë¦¬ì±„ì†Œë¥˜.\n';
            break;
          case 'ê¸ˆ':
            interpretation +=
              'ë¶€ì¡±í•œ ë©´: ê²°ë‹¨ë ¥Â·ì¶”ì§„ë ¥Â·ì˜ë¦¬Â·ì›ì¹™ì˜ì‹ ë¶€ì¡±.\n' +
              'ë³´ì™„ë²•: ëª…ìƒÂ·ê¸°ë„, ê·œì¹™ì ì¸ ìƒí™œ, ì²´ê³„ì  ê´€ë¦¬.\n' +
              'ê°œìš´ë²•: í°ìƒ‰Â·ì€ìƒ‰ ê³„ì—´, ì„œìª½ ë°°ì¹˜, ê¸ˆì† ì†Œì¬.\n' +
              'ìŒì‹: ë§¤ìš´ë§› ìŒì‹, í° ìƒ‰ ìŒì‹, ê²¬ê³¼ë¥˜.\n';
            break;
          case 'ìˆ˜':
            interpretation +=
              'ë¶€ì¡±í•œ ë©´: ì§€í˜œÂ·í†µì°°ë ¥Â·ìœµí†µì„±Â·ì ì‘ë ¥ ë¶€ì¡±.\n' +
              'ë³´ì™„ë²•: ë…ì„œÂ·ëª…ìƒ, ì¶©ë¶„í•œ ìˆ˜ë¶„ì„­ì·¨, íœ´ì‹.\n' +
              'ê°œìš´ë²•: ê²€ì€ìƒ‰Â·íŒŒë€ìƒ‰ ê³„ì—´, ë¶ìª½ ë°°ì¹˜, ë¬¼ ê´€ë ¨ ì¸í…Œë¦¬ì–´.\n' +
              'ìŒì‹: ì§ ë§› ìŒì‹, ê²€ì€ ìƒ‰ ìŒì‹, ìƒì„ ë¥˜.\n';
            break;
        }
      });
    }

    // ì˜¤í–‰ì´ ê· í˜• ì¡íŒ ê²½ìš°
    const isBalanced = balance.every(
      (item) => item.percentage >= 15 && item.percentage <= 25,
    );
    if (isBalanced) {
      interpretation += '\nì˜¤í–‰ì˜ ê· í˜•ì´ ì´ìƒì ì¸ ì‚¬ì£¼\n\n';
      interpretation += 'íŠ¹ì§•: ì¡°í™”ë¡œìš´ ì„±ê²©, ë›°ì–´ë‚œ ì ì‘ë ¥, ì¢…í•©ì  ì‚¬ê³ ë ¥.\n';
      interpretation +=
        'ì¥ì : ê±´ê°•í•œ ì²´ì§ˆ, ë‹¤ì–‘í•œ ë¶„ì•¼ ëŠ¥ë ¥ ë°œíœ˜, ì›ë§Œí•œ ì¸ê°„ê´€ê³„.\n\n';
    }

    return interpretation;
  }

  // ì‹¤ì œ ì‚¬ì£¼ëª…ë¦¬í•™ ê¸°ë°˜ ì§ì—… ì ì„± í•´ì„
  static interpretCareer(
    dayHeavenly: string,
    elements: { [key: string]: number },
  ): string {
    const careerMap = {
      ê°‘: [
        'ëŒ€ê¸°ì—… ì„ì›',
        'CEO',
        'ì •ì¹˜ì¸',
        'íŒì‚¬',
        'êµìˆ˜',
        'ì‚°ë¦¼ì²­',
        'ëª©ì¬ì—…',
        'ê°€êµ¬ì—…',
      ],
      ì„: [
        'ì˜ˆìˆ ê°€',
        'í”Œë¡œë¦¬ìŠ¤íŠ¸',
        'ë””ìì´ë„ˆ',
        'í•œì˜ì‚¬',
        'ì•½ì‚¬',
        'ì›ì˜ˆ',
        'ì„¬ìœ ì—…',
        'íŒ¨ì…˜ì—…',
      ],
      ë³‘: [
        'ë°©ì†¡ì¸',
        'ì—°ì˜ˆì¸',
        'í™ë³´',
        'ë§ˆì¼€íŒ…',
        'ê´€ê´‘ì—…',
        'ìŠ¤í¬ì¸ ',
        'ì—ë„ˆì§€ì‚°ì—…',
        'ì¡°ëª…ì—…',
      ],
      ì •: [
        'ì‘ê°€',
        'ì‹œì¸',
        'ìš”ë¦¬ì‚¬',
        'ë¯¸ìš©ì‚¬',
        'ì¡°í–¥ì‚¬',
        'ì¹´ìš´ì…€ëŸ¬',
        'ì¢…êµì¸',
        'ë¬¸í™”ì˜ˆìˆ ',
      ],
      ë¬´: [
        'ë¶€ë™ì‚°',
        'ê±´ì„¤ì—…',
        'ë†ì—…',
        'ê³µë¬´ì›',
        'ì‹ íƒì—…',
        'ì¤‘ê°œì—…',
        'í† ëª©',
        'ë„ìê¸°',
      ],
      ê¸°: [
        'íšŒê³„ì‚¬',
        'ì„¸ë¬´ì‚¬',
        'ë†ì—…',
        'ì›ì˜ˆ',
        'ì¸í…Œë¦¬ì–´',
        'ë„ì˜ˆê°€',
        'ì§€ì§ˆí•™ì',
        'ê³ ê³ í•™ì',
      ],
      ê²½: [
        'êµ°ì¸',
        'ê²½ì°°',
        'ê²€ì‚¬',
        'ì™¸ê³¼ì˜ì‚¬',
        'ê¸ˆì†ê³µì—…',
        'ê¸°ê³„ê³µì—…',
        'ë¬´ìˆ ê°€',
        'ìš´ë™ì„ ìˆ˜',
      ],
      ì‹ : [
        'ê¸ˆì€ì„¸ê³µ',
        'ì¹˜ê³¼ì˜ì‚¬',
        'ë³´ì„ìƒ',
        'ê¸ˆìœµì—…',
        'í€ë“œë§¤ë‹ˆì €',
        'ê°ì •í‰ê°€ì‚¬',
        'ë¹„í‰ê°€',
        'ì–¸ë¡ ì¸',
      ],
      ì„: [
        'ë¬´ì—­ì—…',
        'í•´ìš´ì—…',
        'ì—¬í–‰ì—…',
        'ì² í•™ì',
        'ì¢…êµì¸',
        'ì™¸êµê´€',
        'í†µì—­ì‚¬',
        'ìˆ˜ì‚°ì—…',
      ],
      ê³„: [
        'í•™ì',
        'ì—°êµ¬ì›',
        'ì ìˆ ê°€',
        'ì‹¬ë¦¬í•™ì',
        'ì‘ê°€',
        'ë¹„ì„œ',
        'ì„œë¹„ìŠ¤ì—…',
        'ì˜ë£Œì—…',
      ],
    };

    const careers = careerMap[dayHeavenly] || [];
    const dayInfo =
      this.PERSONALITY_BY_DAY_STEM[
        dayHeavenly as keyof typeof this.PERSONALITY_BY_DAY_STEM
      ];

    // ì˜¤í–‰ë³„ ì¶”ê°€ ì§ì—… ì¶”ì²œ
    const dominantElement = Object.entries(elements).reduce(
      (max, [elem, count]) => (count > elements[max] ? elem : max),
      'ëª©',
    );

    let elementCareer = '';
    switch (dominantElement) {
      case 'ëª©':
        elementCareer = 'êµìœ¡, ì¶œíŒ, ì˜ë£Œ, ì˜ˆìˆ  ë¶„ì•¼';
        break;
      case 'í™”':
        elementCareer = 'ì „ì, IT, ë¯¸ë””ì–´, ì—”í„°í…Œì¸ë¨¼íŠ¸ ë¶„ì•¼';
        break;
      case 'í† ':
        elementCareer = 'ë¶€ë™ì‚°, ê±´ì„¤, ë†ì—…, ì¤‘ê°œì—… ë¶„ì•¼';
        break;
      case 'ê¸ˆ':
        elementCareer = 'ê¸ˆìœµ, ë²•ë¥ , ê¸°ê³„, ì˜ë£Œ ë¶„ì•¼';
        break;
      case 'ìˆ˜':
        elementCareer = 'ë¬´ì—­, ìœ í†µ, ì„œë¹„ìŠ¤, ì»¨ì„¤íŒ… ë¶„ì•¼';
        break;
    }

    return (
      `â—† ì¼ê°„ ${dayHeavenly}(${dayInfo.element})ì˜ ì ì„±: ${careers.slice(0, 5).join(', ')}\n` +
      `â—† ì˜¤í–‰ ${dominantElement}ì´ ê°•í•œ ì ì„±: ${elementCareer}\n` +
      `ì¼ê°„ì˜ íŠ¹ì„±ê³¼ ì˜¤í–‰ ê· í˜•ì„ ê³ ë ¤í•  ë•Œ, ìœ„ ë¶„ì•¼ì—ì„œ íƒì›”í•œ ëŠ¥ë ¥ì„ ë°œíœ˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`
    );
  }

  // ì‹¤ì œ ì‚¬ì£¼ëª…ë¦¬í•™ ê¸°ë°˜ ê´€ê³„ ìš´ í•´ì„
  static interpretRelationship(gender: string, dayHeavenly: string): string {
    const isYang = ['ê°‘', 'ë³‘', 'ë¬´', 'ê²½', 'ì„'].includes(dayHeavenly);
    let interpretation = '';

    // ì¼ê°„ë³„ ìƒì„¸ ì—°ì• ìš´
    const relationshipMap: { [key: string]: { male: string; female: string } } =
      {
        ê°‘: {
          male: 'ì •ì§í•˜ê³  ë“¬ì§í•œ ë‚¨ì„±ìœ¼ë¡œ, í•œ ë²ˆ ë§ˆìŒì„ ì£¼ë©´ ë³€í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì±…ì„ê°ì´ ê°•í•´ ê°€ì •ì„ ì˜ ì´ë•ë‹ˆë‹¤.',
          female:
            'ì£¼ì²´ì ì´ê³  ë‹¹ë‹¹í•œ ì—¬ì„±ìœ¼ë¡œ, ìì‹ ì˜ ì˜ê²¬ì„ ë¶„ëª…íˆ í‘œí˜„í•©ë‹ˆë‹¤. ëŠ¥ë ¥ ìˆëŠ” íŒŒíŠ¸ë„ˆë¥¼ ì„ í˜¸í•©ë‹ˆë‹¤.',
        },
        ì„: {
          male: 'ì˜¨í™”í•˜ê³  ì„¬ì„¸í•œ ë‚¨ì„±ìœ¼ë¡œ, ìƒëŒ€ë°©ì˜ ê°ì •ì„ ì˜ í—¤ì•„ë¦½ë‹ˆë‹¤. ì˜ˆìˆ ì  ê°ì„±ìœ¼ë¡œ ë¡œë§¨í‹±í•©ë‹ˆë‹¤.',
          female:
            'ë¶€ë“œëŸ½ê³  ì—¬ì„±ìŠ¤ëŸ¬ìš´ ë§¤ë ¥ì´ ìˆìœ¼ë©°, ì¡°í™”ë¡œìš´ ê´€ê³„ë¥¼ ì¶”êµ¬í•©ë‹ˆë‹¤. ë°°ë ¤ì‹¬ì´ ê¹ŠìŠµë‹ˆë‹¤.',
        },
        ë³‘: {
          male: 'ë°ê³  í™œê¸°ì°¬ ë‚¨ì„±ìœ¼ë¡œ, ì—°ì• ë¥¼ ì¦ê²ê²Œ ë§Œë“­ë‹ˆë‹¤. ê´€ëŒ€í•˜ê³  í¬ìš©ë ¥ì´ ìˆìŠµë‹ˆë‹¤.',
          female:
            'ê¸ì •ì ì´ê³  ë§¤ë ¥ì ì¸ ì—¬ì„±ìœ¼ë¡œ, ìƒëŒ€ë°©ì„ ë°ê²Œ ë§Œë“­ë‹ˆë‹¤. ììœ ë¡œìš´ ê´€ê³„ë¥¼ ì„ í˜¸í•©ë‹ˆë‹¤.',
        },
        ì •: {
          male: 'ë¡œë§¨í‹±í•˜ê³  ê°ì„±ì ì¸ ë‚¨ì„±ìœ¼ë¡œ, ë¶„ìœ„ê¸°ë¥¼ ì¤‘ì‹œí•©ë‹ˆë‹¤. ì€ì€í•œ ë§¤ë ¥ì´ ìˆìŠµë‹ˆë‹¤.',
          female:
            'ì‹ ë¹„ë¡­ê³  ë§¤í˜¹ì ì¸ ì—¬ì„±ìœ¼ë¡œ, ìƒëŒ€ë°©ì„ ëŒì–´ë‹¹ê¸°ëŠ” ë§¤ë ¥ì´ ìˆìŠµë‹ˆë‹¤. ê°ì •ì´ ê¹ŠìŠµë‹ˆë‹¤.',
        },
        ë¬´: {
          male: 'ë¯¿ìŒì§ìŠ¤ëŸ½ê³  ì•ˆì •ì ì¸ ë‚¨ì„±ìœ¼ë¡œ, ê°€ì •ì ì…ë‹ˆë‹¤. ë³€í•˜ì§€ ì•ŠëŠ” ì‚¬ë‘ì„ ì¶”êµ¬í•©ë‹ˆë‹¤.',
          female:
            'í¬ìš©ë ¥ ìˆê³  ëª¨ì„±ì• ê°€ ê°•í•œ ì—¬ì„±ìœ¼ë¡œ, ìƒëŒ€ë°©ì„ í¸ì•ˆí•˜ê²Œ ë§Œë“­ë‹ˆë‹¤. ì•ˆì •ëœ ê´€ê³„ë¥¼ ì›í•©ë‹ˆë‹¤.',
        },
        ê¸°: {
          male: 'ì„±ì‹¤í•˜ê³  ê¼¼ê¼¼í•œ ë‚¨ì„±ìœ¼ë¡œ, ì„¸ì‹¬í•œ ë°°ë ¤ë¥¼ í•©ë‹ˆë‹¤. í˜„ì‹¤ì ì¸ ì‚¬ë‘ì„ ì¶”êµ¬í•©ë‹ˆë‹¤.',
          female:
            'ì‹¤ì† ìˆê³  ì•Œëœ°í•œ ì—¬ì„±ìœ¼ë¡œ, ê°€ì •ì„ ì˜ ê¾¸ë¦½ë‹ˆë‹¤. ì•ˆì •ì ì¸ íŒŒíŠ¸ë„ˆë¥¼ ì„ í˜¸í•©ë‹ˆë‹¤.',
        },
        ê²½: {
          male: 'ë‚¨ìë‹¤ìš´ ë§¤ë ¥ì´ ê°•í•˜ê³ , ê²°ë‹¨ë ¥ì´ ìˆìŠµë‹ˆë‹¤. ì˜ë¦¬ë¥¼ ì¤‘ì‹œí•˜ë©° ë³´í˜¸ë³¸ëŠ¥ì´ ê°•í•©ë‹ˆë‹¤.',
          female:
            'ë…ë¦½ì ì´ê³  ë‹¹ì°¬ ì—¬ì„±ìœ¼ë¡œ, ìì‹ ì˜ ê¸¸ì„ ê°œì²™í•©ë‹ˆë‹¤. ì¡´ê²½í•  ìˆ˜ ìˆëŠ” íŒŒíŠ¸ë„ˆë¥¼ ì›í•©ë‹ˆë‹¤.',
        },
        ì‹ : {
          male: 'ì„¸ë ¨ë˜ê³  ê¹”ë”í•œ ë‚¨ì„±ìœ¼ë¡œ, ì„¼ìŠ¤ê°€ ìˆìŠµë‹ˆë‹¤. í’ˆìœ„ ìˆëŠ” ì—°ì• ë¥¼ ì¶”êµ¬í•©ë‹ˆë‹¤.',
          female:
            'ìš°ì•„í•˜ê³  í’ˆê²© ìˆëŠ” ì—¬ì„±ìœ¼ë¡œ, ê³ ê¸‰ìŠ¤ëŸ¬ìš´ ì·¨í–¥ì„ ê°€ì§‘ë‹ˆë‹¤. ëŠ¥ë ¥ ìˆëŠ” íŒŒíŠ¸ë„ˆë¥¼ ì„ í˜¸í•©ë‹ˆë‹¤.',
        },
        ì„: {
          male: 'ììœ ë¡­ê³  ë‚­ë§Œì ì¸ ë‚¨ì„±ìœ¼ë¡œ, ëª¨í—˜ì„ ì¦ê¹ë‹ˆë‹¤. êµ¬ì†ë°›ì§€ ì•ŠëŠ” ê´€ê³„ë¥¼ ì„ í˜¸í•©ë‹ˆë‹¤.',
          female:
            'ì§€ì ì´ê³  ë§¤ë ¥ì ì¸ ì—¬ì„±ìœ¼ë¡œ, ëŒ€í™”ê°€ í†µí•˜ëŠ” íŒŒíŠ¸ë„ˆë¥¼ ì›í•©ë‹ˆë‹¤. ì •ì‹ ì  êµê°ì„ ì¤‘ì‹œí•©ë‹ˆë‹¤.',
        },
        ê³„: {
          male: 'ê°ì„±ì ì´ê³  ì´í•´ì‹¬ ë§ì€ ë‚¨ì„±ìœ¼ë¡œ, ìƒëŒ€ë°©ì„ ì˜ ë³´ë“¬ìŠµë‹ˆë‹¤. ìˆœìˆ˜í•œ ì‚¬ë‘ì„ ì¶”êµ¬í•©ë‹ˆë‹¤.',
          female:
            'ìˆœìˆ˜í•˜ê³  í—Œì‹ ì ì¸ ì—¬ì„±ìœ¼ë¡œ, ì‚¬ë‘ì— ì˜¬ì¸í•©ë‹ˆë‹¤. ê°ì •ì  êµë¥˜ë¥¼ ì¤‘ì‹œí•©ë‹ˆë‹¤.',
        },
      };

    const relationship = relationshipMap[dayHeavenly];
    if (relationship) {
      interpretation +=
        gender === 'ë‚¨' ? relationship.male : relationship.female;
      interpretation += '\n\n';
    }

    // ìŒì–‘ ì¡°í™” ì„¤ëª…
    if (isYang) {
      interpretation += 'â—† ì–‘(é™½)ì˜ ê¸°ìš´: ì ê·¹ì ì´ê³  ì£¼ë„ì ì¸ ì—°ì• ë¥¼ í•©ë‹ˆë‹¤. ';
      interpretation +=
        gender === 'ë‚¨'
          ? 'ì „í†µì ì¸ ë‚¨ì„±ìƒì— ê°€ê¹Œìš°ë©°, ê°€ì •ì„ ì´ë„ëŠ” ê°€ì¥ ì—­í• ì— ì í•©í•©ë‹ˆë‹¤.'
          : 'ì£¼ì²´ì ì´ê³  ë…ë¦½ì ì¸ ì—¬ì„±ìœ¼ë¡œ, ëŒ€ë“±í•œ íŒŒíŠ¸ë„ˆì‹­ì„ ì¶”êµ¬í•©ë‹ˆë‹¤.';
    } else {
      interpretation += 'â—† ìŒ(é™°)ì˜ ê¸°ìš´: ìˆ˜ìš©ì ì´ê³  ë°°ë ¤ ê¹Šì€ ì—°ì• ë¥¼ í•©ë‹ˆë‹¤. ';
      interpretation +=
        gender === 'ë‚¨'
          ? 'í˜„ëŒ€ì ì´ê³  ê°ì„±ì ì¸ ë‚¨ì„±ìœ¼ë¡œ, ìƒëŒ€ë°©ê³¼ ê³µê°í•˜ë©° ì†Œí†µí•©ë‹ˆë‹¤.'
          : 'ì „í†µì ì¸ ì—¬ì„±ìƒì— ê°€ê¹Œìš°ë©°, ì¡°í™”ë¡­ê³  í‰í™”ë¡œìš´ ê´€ê³„ë¥¼ ë§Œë“­ë‹ˆë‹¤.';
    }

    return interpretation;
  }

  // ì¬ë¬¼ìš´ í•´ì„ (ì‹¤ì œ ì‚¬ì£¼ëª…ë¦¬í•™ ê¸°ë°˜)
  static interpretWealth(dayHeavenly: string, yearEarthly: string): string {
    const wealthLuck = {
      ê°‘: 'ì •ì¬(æ­£è²¡)ë¥¼ ì¶”êµ¬í•˜ì—¬ ì •ë‹¹í•œ ë…¸ë ¥ìœ¼ë¡œ ë¶€ë¥¼ ì¶•ì í•©ë‹ˆë‹¤. ë¶€ë™ì‚°ì´ë‚˜ ì¥ê¸° íˆ¬ìì— ìœ ë¦¬í•˜ë©°, ëŒ€ê¸°ì—…ì´ë‚˜ ê³µì§ì—ì„œ ì•ˆì •ì  ìˆ˜ì…ì„ ì–»ìŠµë‹ˆë‹¤.',
      ì„: 'í¸ì¬(åè²¡)ìš´ì´ ìˆì–´ ë‹¤ì–‘í•œ ìˆ˜ì…ì›ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆìˆ , ë¬¸í™” ì‚¬ì—…ì´ë‚˜ ìœ ì—°í•œ ì‚¬ê³ ë¡œ ê¸°íšŒë¥¼ í¬ì°©í•©ë‹ˆë‹¤.',
      ë³‘: 'ì‹ì‹ (é£Ÿç¥)ì´ ìƒì¬(ç”Ÿè²¡)í•˜ì—¬ ì¦ê¸°ë©´ì„œ ëˆì„ ë²•ë‹ˆë‹¤. ì„œë¹„ìŠ¤ì—…, ìš”ì‹ì—…, ì—”í„°í…Œì¸ë¨¼íŠ¸ ë¶„ì•¼ì—ì„œ ì¬ë¬¼ìš´ì´ ì¢‹ìŠµë‹ˆë‹¤.',
      ì •: 'ìƒê´€(å‚·å®˜)ì´ ìƒì¬í•˜ì—¬ ì¬ëŠ¥ê³¼ ê¸°ìˆ ë¡œ ë¶€ë¥¼ ì°½ì¶œí•©ë‹ˆë‹¤. ì „ë¬¸ì§ì´ë‚˜ í”„ë¦¬ëœì„œë¡œ ì„±ê³µí•  ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤.',
      ë¬´: 'ë¹„ê²¬(æ¯”è‚©)ê³¼ ê²ì¬(åŠ«è²¡)ë¥¼ ì œì••í•˜ì—¬ ê²½ìŸì—ì„œ ìŠ¹ë¦¬í•©ë‹ˆë‹¤. ë¶€ë™ì‚°ì´ë‚˜ ì¤‘ê°œì—…ìœ¼ë¡œ í° ë¶€ë¥¼ ì¶•ì í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
      ê¸°: 'ì •ì¸(æ­£å°)ê³¼ í¸ì¸(åå°)ìœ¼ë¡œ ì§€ì‹ì„ ì¬ë¬¼ë¡œ ì „í™˜í•©ë‹ˆë‹¤. êµìœ¡, ì»¨ì„¤íŒ…, ì „ë¬¸ ì„œë¹„ìŠ¤ì—…ì—ì„œ ì„±ê³µí•©ë‹ˆë‹¤.',
      ê²½: 'ì •ê´€(æ­£å®˜)ê³¼ í¸ê´€(åå®˜)ìœ¼ë¡œ ê¶Œë ¥ì„ ì¬ë¬¼ë¡œ ì—°ê²°í•©ë‹ˆë‹¤. ì‚¬ì—…ê°€ë‚˜ ê³ ìœ„ì§ìœ¼ë¡œ í° ë¶€ë¥¼ ì´ë£¹ë‹ˆë‹¤.',
      ì‹ : 'ì‹ìƒ(é£Ÿå‚·)ì´ ì™•í•˜ì—¬ íˆ¬ì ê°ê°ì´ ë›°ì–´ë‚©ë‹ˆë‹¤. ê¸ˆìœµ, ì£¼ì‹, ê·€ê¸ˆì† ê´€ë ¨ ë¶„ì•¼ì—ì„œ ì¬ë¬¼ìš´ì´ ì¢‹ìŠµë‹ˆë‹¤.',
      ì„: 'ì •ì¬ì™€ í¸ì¬ê°€ ìœ í†µë˜ì–´ ë¬¼ì²˜ëŸ¼ ëˆì´ íë¦…ë‹ˆë‹¤. ë¬´ì—­, ìœ í†µ, ì„œë¹„ìŠ¤ì—…ì—ì„œ í° ì„±ê³µì„ ê±°ë‘˜ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
      ê³„: 'ì¸ì„±(å°æ˜Ÿ)ì´ ê°•í•˜ì—¬ ëª…ì˜ˆê°€ ì¬ë¬¼ë¡œ ì´ì–´ì§‘ë‹ˆë‹¤. í•™ë¬¸, ì¢…êµ, ì˜ˆìˆ  ë¶„ì•¼ì—ì„œ ëª…ì„±ê³¼ í•¨ê»˜ ë¶€ë¥¼ ì–»ìŠµë‹ˆë‹¤.',
    };

    // 12ì§€ì§€ë³„ ì¶”ê°€ ì¬ë¬¼ìš´
    const earthlyWealth: { [key: string]: string } = {
      ì: 'ì—­ë§ˆì‚´ì´ ìˆì–´ ì›€ì§ì´ë©´ì„œ ëˆì„ ë²•ë‹ˆë‹¤.',
      ì¶•: 'ê³ ì§€(åº«åœ°)ë¡œ ì €ì¶•ê³¼ ì ˆì•½ìœ¼ë¡œ ë¶€ë¥¼ ì¶•ì í•©ë‹ˆë‹¤.',
      ì¸: 'í¸ì¬ì‚´ì´ ìˆì–´ íˆ¬ìì™€ ì‚¬ì—…ìœ¼ë¡œ í° ëˆì„ ë²Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
      ë¬˜: 'ë„í™”ì‚´ì´ ìˆì–´ ì¸ê¸°ì™€ ë§¤ë ¥ìœ¼ë¡œ ëˆì„ ë²•ë‹ˆë‹¤.',
      ì§„: 'í™”ê°œì‚´ì´ ìˆì–´ ì¢…êµë‚˜ ì˜ˆìˆ ë¡œ ëˆì„ ë²•ë‹ˆë‹¤.',
      ì‚¬: 'ì—­ë§ˆì‚´ê³¼ í•¨ê»˜ í•´ì™¸ì—ì„œ ê¸°íšŒê°€ ìˆìŠµë‹ˆë‹¤.',
      ì˜¤: 'ì–‘ì¸ì‚´ì´ ìˆì–´ ê³¼ê°í•œ ë„ì „ìœ¼ë¡œ ì„±ê³µí•©ë‹ˆë‹¤.',
      ë¯¸: 'ê³ ì§€ë¡œ ëŠ¦ê²Œ ë¶€ìê°€ ë˜ëŠ” ëŒ€ê¸°ë§Œì„±í˜•ì…ë‹ˆë‹¤.',
      ì‹ : 'í¸ì¬ê°€ ì™•í•˜ì—¬ ê¸ˆìœµê³¼ íˆ¬ìì— ëŠ¥í•©ë‹ˆë‹¤.',
      ìœ : 'ë„í™”ì™€ í•¨ê»˜ ì˜ˆìˆ ê³¼ ë¯¸ìš© ë¶„ì•¼ì—ì„œ ì„±ê³µí•©ë‹ˆë‹¤.',
      ìˆ : 'ê³ ì§€ë¡œ ë¶€ë™ì‚°ê³¼ ì €ì¶•ìœ¼ë¡œ ë¶€ë¥¼ ì¶•ì í•©ë‹ˆë‹¤.',
      í•´: 'ì—­ë§ˆì™€ ì²œì„ê·€ì¸ìœ¼ë¡œ ë¬´ì—­ê³¼ í•´ì™¸ì‚¬ì—…ì—ì„œ ì„±ê³µí•©ë‹ˆë‹¤.',
    };

    return (
      `â—† ì¼ê°„ ${dayHeavenly}ì˜ ì¬ë¬¼ìš´:\n${wealthLuck[dayHeavenly] || 'ì •ë‹¹í•œ ë…¸ë ¥ìœ¼ë¡œ ì•ˆì •ì ì¸ ë¶€ë¥¼ ì¶•ì í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.'}\n\n` +
      `â—† ë…„ì§€ ${yearEarthly}ì˜ íŠ¹ì„±:\n${earthlyWealth[yearEarthly] || 'ê¾¸ì¤€í•œ ë…¸ë ¥ìœ¼ë¡œ ì¬ë¬¼ì„ ëª¨ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.'}`
    );
  }

  // ì‹¤ì œ ì‚¬ì£¼ëª…ë¦¬í•™ ê¸°ë°˜ ê±´ê°•ìš´ í•´ì„
  static interpretHealth(elements: { [key: string]: number }): string {
    const total = Object.values(elements).reduce(
      (sum, count) => sum + count,
      0,
    );
    let interpretation = '';

    // ì˜¤í–‰ ë¶ˆê· í˜•ì— ë”°ë¥¸ ê±´ê°• ì£¼ì˜ì‚¬í•­
    Object.entries(elements).forEach(([element, count]) => {
      const percentage = (count / total) * 100;

      if (percentage > 40) {
        switch (element) {
          case 'ëª©':
            interpretation +=
              'â—† ëª©(æœ¨) ê³¼ë‹¤: ê°„ì¥, ë‹´ë‚­ ê³„í†µ ì£¼ì˜\n' +
              '- ì£¼ìš” ì¦ìƒ: ëˆˆì˜ í”¼ë¡œ, ê·¼ìœ¡ ê²½ë ¨, ì‹ ê²½ê³¼ë¯¼, ë‘í†µ\n' +
              '- ê´€ë¦¬ë²•: ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬, ê·œì¹™ì ì¸ ìš´ë™, ì‹ ë§› ìŒì‹ ì ë‹¹íˆ ì„­ì·¨\n' +
              '- ì£¼ì˜ì‚¬í•­: ê³¼ë¡œì™€ ë¶„ë…¸ ì¡°ì ˆ, ìŒì£¼ ì ˆì œ';
            break;
          case 'í™”':
            interpretation +=
              'â—† í™”(ç«) ê³¼ë‹¤: ì‹¬ì¥, ì†Œì¥ ê³„í†µ ì£¼ì˜\n' +
              '- ì£¼ìš” ì¦ìƒ: ë¶ˆë©´ì¦, ê°€ìŠ´ ë‘ê·¼ê±°ë¦¼, í˜ˆì•• ìƒìŠ¹, êµ¬ë‚´ì—¼\n' +
              '- ê´€ë¦¬ë²•: ëª…ìƒê³¼ íœ´ì‹, ì“´ë§› ìŒì‹ ì ë‹¹íˆ ì„­ì·¨\n' +
              '- ì£¼ì˜ì‚¬í•­: ê³¼ë„í•œ í¥ë¶„ ìì œ, ê·œì¹™ì ì¸ ìˆ˜ë©´';
            break;
          case 'í† ':
            interpretation +=
              'â—† í† (åœŸ) ê³¼ë‹¤: ë¹„ì¥, ìœ„ì¥ ê³„í†µ ì£¼ì˜\n' +
              '- ì£¼ìš” ì¦ìƒ: ì†Œí™”ë¶ˆëŸ‰, ìœ„ì—¼, ë‹¹ë‡¨ ìœ„í—˜, ë¹„ë§Œ\n' +
              '- ê´€ë¦¬ë²•: ê·œì¹™ì ì¸ ì‹ì‚¬, ë‹¨ë§› ìŒì‹ ì ˆì œ\n' +
              '- ì£¼ì˜ì‚¬í•­: ê³¼ì‹ ê¸ˆì§€, ê±±ì •ê³¼ ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬';
            break;
          case 'ê¸ˆ':
            interpretation +=
              'â—† ê¸ˆ(é‡‘) ê³¼ë‹¤: í, ëŒ€ì¥ ê³„í†µ ì£¼ì˜\n' +
              '- ì£¼ìš” ì¦ìƒ: í˜¸í¡ê¸° ì§ˆí™˜, í”¼ë¶€ íŠ¸ëŸ¬ë¸”, ë³€ë¹„, ì•Œë ˆë¥´ê¸°\n' +
              '- ê´€ë¦¬ë²•: ë§‘ì€ ê³µê¸° í˜¸í¡, ë§¤ìš´ë§› ìŒì‹ ì ˆì œ\n' +
              '- ì£¼ì˜ì‚¬í•­: ê¸ˆì—° í•„ìˆ˜, ê±´ì¡°í•œ í™˜ê²½ í”¼í•˜ê¸°';
            break;
          case 'ìˆ˜':
            interpretation +=
              'â—† ìˆ˜(æ°´) ê³¼ë‹¤: ì‹ ì¥, ë°©ê´‘ ê³„í†µ ì£¼ì˜\n' +
              '- ì£¼ìš” ì¦ìƒ: ë¶€ì¢…, ìš”í†µ, ì´ëª…, íƒˆëª¨, ê³¨ë‹¤ê³µì¦\n' +
              '- ê´€ë¦¬ë²•: ì²´ì˜¨ ìœ ì§€, ì§ ë§› ìŒì‹ ì ˆì œ\n' +
              '- ì£¼ì˜ì‚¬í•­: ê³¼ë„í•œ ìˆ˜ë¶„ ì„­ì·¨ ì£¼ì˜, í•˜ì²´ ìš´ë™ ê°•í™”';
            break;
        }
      }
    });

    // ë¶€ì¡±í•œ ì˜¤í–‰ì— ëŒ€í•œ ë³´ì¶© ê±´ê°•ë²• ì¶”ê°€
    Object.entries(elements).forEach(([element, count]) => {
      const percentage = (count / total) * 100;
      if (percentage < 15) {
        interpretation += '\n\n';
        switch (element) {
          case 'ëª©':
            interpretation +=
              'â—† ëª©(æœ¨) ë¶€ì¡±: ê°„ ê¸°ëŠ¥ ì €í•˜ ì£¼ì˜\n- ë³´ì¶©ë²•: ë…¹ìƒ‰ ì±„ì†Œ, ì‹ ë§› ê³¼ì¼ ì„­ì·¨, ìŠ¤íŠ¸ë ˆì¹­';
            break;
          case 'í™”':
            interpretation +=
              'â—† í™”(ç«) ë¶€ì¡±: í˜ˆì•¡ìˆœí™˜ ì €í•˜ ì£¼ì˜\n- ë³´ì¶©ë²•: ìœ ì‚°ì†Œ ìš´ë™, ë”°ëœ»í•œ ìŒì‹, ì¶©ë¶„í•œ ì¼ê´‘ìš•';
            break;
          case 'í† ':
            interpretation +=
              'â—† í† (åœŸ) ë¶€ì¡±: ì†Œí™”ë ¥ ì €í•˜ ì£¼ì˜\n- ë³´ì¶©ë²•: ê·œì¹™ì  ì‹ì‚¬, ë‹¨í˜¸ë°•, ê³ êµ¬ë§ˆ ë“± ì„­ì·¨';
            break;
          case 'ê¸ˆ':
            interpretation +=
              'â—† ê¸ˆ(é‡‘) ë¶€ì¡±: ë©´ì—­ë ¥ ì €í•˜ ì£¼ì˜\n- ë³´ì¶©ë²•: ì‹¬í˜¸í¡ ìš´ë™, ë°°, ë¬´ ë“± í°ìƒ‰ ìŒì‹ ì„­ì·¨';
            break;
          case 'ìˆ˜':
            interpretation +=
              'â—† ìˆ˜(Water) ë¶€ì¡±: ì‹ ì¥ ê¸°ëŠ¥ ì €í•˜ ì£¼ì˜\n- ë³´ì¶©ë²•: ì¶©ë¶„í•œ ìˆ˜ë¶„ ì„­ì·¨, ê²€ì€ì½©, ê²€ì€ê¹¨ ì„­ì·¨';
            break;
        }
      }
    });

    if (interpretation === '') {
      interpretation +=
        'ì˜¤í–‰ì´ ê· í˜•ì„ ì´ë£¨ì–´ ì „ë°˜ì ìœ¼ë¡œ ê±´ê°•í•œ ì²´ì§ˆì…ë‹ˆë‹¤.\nê·œì¹™ì ì¸ ìƒí™œìŠµê´€ì„ ìœ ì§€í•˜ë©° ì˜ˆë°©ì— í˜ì“°ì„¸ìš”.';
    }

    return interpretation;
  }

  // ì˜¬í•´ ìš´ì„¸ (ê°„ë‹¨ì“°)
  static interpretYearlyFortune(
    currentYear: number,
    birthYear: number,
  ): string {
    const age = currentYear - birthYear;
    const cycle = age % 12;

    const fortunes = [
      'ìƒˆë¡œìš´ ì‹œì‘ê³¼ ë„ì „ì˜ í•´ì…ë‹ˆë‹¤. ì ê·¹ì ìœ¼ë¡œ ê¸°íšŒë¥¼ ì¡ìœ¼ì„¸ìš”.',
      'ì•ˆì •ê³¼ ì„±ì¥ì˜ í•´ì…ë‹ˆë‹¤. ê¾¸ì¤€í•œ ë…¸ë ¥ì´ ê²°ì‹¤ì„ ë§ºìŠµë‹ˆë‹¤.',
      'ë³€í™”ì™€ ì „í™˜ì˜ í•´ì…ë‹ˆë‹¤. ìœ ì—°í•˜ê²Œ ëŒ€ì²˜í•˜ë©´ ì¢‹ì€ ê²°ê³¼ê°€ ìˆìŠµë‹ˆë‹¤.',
      'ë„ì•½ê³¼ ë°œì „ì˜ í•´ì…ë‹ˆë‹¤. í° ì„±ê³¼ë¥¼ ê¸°ëŒ€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
      'ì¡°ì •ê³¼ ì •ë¦¬ì˜ í•´ì…ë‹ˆë‹¤. ë¶ˆí•„ìš”í•œ ê²ƒì„ ì •ë¦¬í•˜ê³  ìƒˆë¡œìš´ ì¤€ë¹„ë¥¼ í•˜ì„¸ìš”.',
      'í˜‘ë ¥ê³¼ ì¸ì—°ì˜ í•´ì…ë‹ˆë‹¤. ì¢‹ì€ ì‚¬ëŒë“¤ê³¼ì˜ ë§Œë‚¨ì´ ê¸°ëŒ€ë©ë‹ˆë‹¤.',
      'ìˆ˜í™•ê³¼ ê²°ì‹¤ì˜ í•´ì…ë‹ˆë‹¤. ê·¸ë™ì•ˆì˜ ë…¸ë ¥ì´ ë³´ìƒë°›ìŠµë‹ˆë‹¤.',
      'íœ´ì‹ê³¼ ì¶©ì „ì˜ í•´ì…ë‹ˆë‹¤. ê±´ê°•ê´€ë¦¬ì— ì‹ ê²½ì“°ì„¸ìš”.',
      'ë„ì „ê³¼ ëª¨í—˜ì˜ í•´ì…ë‹ˆë‹¤. ìƒˆë¡œìš´ ë¶„ì•¼ì— ë„ì „í•´ë³´ì„¸ìš”.',
      'ì•ˆì •ê³¼ í™”í•©ì˜ í•´ì…ë‹ˆë‹¤. ê°€ì¡±ê³¼ ì£¼ë³€ ì‚¬ëŒë“¤ê³¼ì˜ ê´€ê³„ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤.',
      'ì„±ì·¨ì™€ ì¸ì •ì˜ í•´ì…ë‹ˆë‹¤. ëŠ¥ë ¥ì„ ì¸ì •ë°›ê³  ìŠ¹ì§„ì´ë‚˜ ì„±ê³µì´ ê¸°ëŒ€ë©ë‹ˆë‹¤.',
      'ì¤€ë¹„ì™€ ê³„íšì˜ í•´ì…ë‹ˆë‹¤. ë¯¸ë˜ë¥¼ ìœ„í•œ ì¤€ë¹„ë¥¼ ì² ì €íˆ í•˜ì„¸ìš”.',
    ];

    return `${currentYear}ë…„ ìš´ì„¸:\n${fortunes[cycle]}`;
  }
}